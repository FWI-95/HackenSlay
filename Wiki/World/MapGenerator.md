# Map Generator

This document summarizes how maps are created in `src/Objects/World/Map/MapGenerator.cs` and how its behavior is verified by the unit tests.

## Algorithm Overview

1. **Initialization**
   - The constructor receives a `GraphicsDevice`, map width, height and an optional seed.
   - A `TileType[,]` array stores the generated tiles. Every tile starts as `TileType.Empty`.

2. **Street Generation** (`GenerateStreets`)
   - Begins in the center of the grid.
   - Performs a random walk for `width * height` steps.
   - Each step chooses one of the four directions and clamps the position to the grid bounds.
   - Tiles visited during the walk become `TileType.Street`.

3. **Obstacle Placement** (`PlaceObstacles`)
   - Picks a random percentage between 10% and 20% for obstacle density.
   - Iterates over all tiles and converts some of the remaining `Empty` ones into `Obstacle` based on that chance.

4. **Enemy Spawns** (`PlaceEnemySpawns`)
   - Calculates the number of spawns as `max(1, (width + height) / 20)`.
   - Attempts random positions until the required count is placed or 1000 attempts were made.
   - Only empty tiles on the outer edges of the map become `EnemySpawn` tiles.

The `Draw` method simply colors the generated tiles for visualization and is not used by the tests.

## `TileType`

`src/Objects/World/Map/TileType.cs` defines the possible types of map tiles:

- `Empty` – unused space.
- `Street` – walkable path generated by the random walk.
- `Obstacle` – impassable object placed randomly.
- `EnemySpawn` – starting points for enemies, located on the map edges.

## Unit Tests

`src/Tests/HackenSlay.Tests/MapGeneratorTests.cs` provides two checks:

1. **GeneratesStreetTiles** – instantiates the generator with a fixed seed and asserts that at least one tile contains `TileType.Street`.
2. **PlacesEnemySpawns** – using the same seed, verifies that the map includes at least one `TileType.EnemySpawn` tile.

These tests ensure that the generator always produces roads and spawn points for a deterministic seed.
